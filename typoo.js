var question_set_str = 'a an able about above abuse accept accident accuse across act activist actor add administration admit adult advertise advise affect afraid after again against age agency aggression ago agree agriculture aid aim air air force airplane airport album alcohol alive all ally almost alone along already also although always ambassador amend ammunition among amount anarchy ancestor ancient and anger animal anniversary announce another answer any apologize appeal appear appoint approve archeology area argue arms army around arrest arrive art artillery as ash ask assist astronaut astronomy asylum at atmosphere attach attack attempt attend attention automobile autumn available average avoid awake award away baby back bad balance ball balloon ballot ban bank bar barrier base battle be beat beauty because become bed before begin behavior behind believe belong below best betray better between big bill biology bird bite black blame bleed blind block blood blow blue boat body boil bomb bone book border born borrow both bottle bottom box boy boycott brain brave bread break breathe bridge brief bright bring broadcast brother brown budget build building bullet burn burst bury bus business busy but buy by cabinet call calm camera camp campaign can cancel cancer candidate capital capture car care career careful carry case cat catch cause ceasefire celebrate center century ceremony chairman champion chance change charge chase cheat cheer chemicals chemistry chief child children choose circle citizen city civilian civil rights claim clash class clean clear clergy climate climb clock close cloth clothes cloud coal coalition coast coffee cold collapse collect college colony color combine come command comment committee common communicate community company compare compete complete complex compromise computer concern condemn condition conference confirm conflict congratulate Congress connect conservative consider constitution contact contain container continent continue control convention cook cool cooperate copy corn correct corruption cost cotton count country court cover cow crash create creature credit crew crime criminal crisis criticize crops cross crowd crush cry culture cure curfew current custom customs cut dam damage dance danger dark date daughter day dead deaf deal debate debt decide declare decrease deep defeat defend deficit define degree delay delegate demand democracy demonstrate denounce deny depend deplore deploy depression describe desert design desire destroy detail detain develop device dictator die diet different difficult dig dinner diplomat direct direction dirt disappear disarm disaster discover discrimination discuss disease dismiss dispute dissident distance dive divide do doctor document dog dollar donate door double down dream drink drive drop drown drug dry during dust duty each early earn earth earthquake ease east easy eat ecology economy edge education effect effort egg either elect electricity embassy embryo emergency emotion employ empty end enemy energy enforce engine engineer enjoy enough enter environment equal equipment escape especially establish estimate ethnic evaporate even event ever every evidence evil exact examine example excellent except exchange excuse execute exercise exile exist expand expect expel experience experiment expert explain explode explore export express extend extra extraordinary extreme extremist face fact factory fail fair fall false family famous fan far farm fast fat father favorite fear federal feed feel female fence fertile few field fierce fight fill film final financial find fine finish fire fireworks firm first fish fit fix flag flat flee float flood floor flow flower fluid fly fog follow food fool foot for force foreign forest forget forgive form former forward free freedom freeze fresh friend frighten from front fruit fuel full fun funeral future gain game gas gather general generation genocide gentle get gift girl give glass go goal god gold good goods govern government grain grass gray great green grind ground group grow guarantee guard guerrilla guide guilty gun hair half halt hang happen happy hard harm harvest hat hate have he head headquarters heal health hear heat heavy helicopter help here hero hide high hijack hill history hit hold hole holiday holy home honest honor hope horrible horse hospital hostage hostile hot hotel hour house how however huge human humor hunger hunt hurry hurt husband I ice idea identify if ignore illegal imagine immediate immigrant import important improve in incident incite include increase independent individual industry infect inflation influence inform information inject injure innocent insane insect inspect instead instrument insult intelligence intelligent intense interest interfere international Internet intervene invade invent invest investigate invite involve iron island issue it jail jewel job join joint joke judge jump jury just justice keep kick kidnap kill kind kiss knife know knowledge labor laboratory lack lake land language large last late laugh launch law lead leak learn leave left legal legislature lend less let letter level liberal lie life lift light lightning like limit line link liquid list listen literature little live load loan local lonely long look lose loud love low loyal luck machine magazine mail main major majority make male man manufacture many map march mark market marry mass mate material mathematics matter may mayor meal mean measure meat media medicine meet melt member memorial memory mental message metal method microscope middle militant military militia milk mind mine mineral minister minor minority minute miss missile missing mistake mix mob model moderate modern money month moon moral more morning most mother motion mountain mourn move movement movie much murder music must mystery name narrow nation native natural nature navy near necessary need negotiate neighbor neither neutral never new news next nice night no noise nominate noon normal north not note nothing now nowhere nuclear number obey object observe occupy ocean of off offensive offer office officer official often oil old on once only open operate opinion oppose opposite oppress or orbit order organize other our oust out over overthrow owe own pain paint paper parachute parade pardon parent parliament part partner party pass passenger passport past path patient pay peace people percent perfect perform period permanent permit person persuade physical physics picture piece pig pilot pipe place plan planet plant plastic play please plenty plot poem point poison police policy politics pollute poor popular population port position possess possible postpone pour poverty power praise pray predict pregnant present president press pressure prevent price prison private prize probably problem process produce profession professor profit program progress project promise propaganda property propose protect protest prove provide public publication publish pull pump punish purchase pure purpose push put quality question quick quiet race radar radiation radio raid railroad rain raise rape rare rate reach react read ready real realistic reason reasonable rebel receive recent recession recognize record recover red reduce reform refugee refuse register regret reject relations release religion remain remains remember remove repair repeat report represent repress request require rescue research resign resist resolution resource respect responsible rest restaurant restrain restrict result retire return revolt rice rich ride right riot rise risk river road rob rock rocket roll room root rope rough round rub rubber ruin rule run rural sabotage sacrifice sad safe sail sailor salt same sand satellite satisfy save say school science sea search season seat second secret security see seed seeking seem seize self sell Senate send sense sentence separate series serious serve service set settle several severe sex shake shape share sharp she sheep shell shelter shine ship shock shoe shoot short should shout show shrink sick sickness side sign signal silence silver similar simple since sing single sink sister sit situation size skeleton skill skin sky slave sleep slide slow small smash smell smoke smooth snow so social soft soil soldier solid solve some son soon sort sound south space speak special speech speed spend spill spirit split sport spread spring spy square stab stand star start starve state station statue stay steal steam steel step stick still stone stop store storm story stove straight strange street stretch strike strong structure struggle study stupid subject submarine substance substitute subversion succeed such sudden suffer sugar suggest suicide summer sun supervise supply support suppose suppress sure surface surplus surprise surrender surround survive suspect suspend swallow swear in sweet swim sympathy system take talk tall tank target taste tax tea teach team tear technical technology telephone telescope television tell temperature temporary tense term terrible territory terror terrorist test than thank that the theater them then theory there these they thick thin thing think third this threaten through throw tie time tired to today together tomorrow tonight too tool top torture total touch toward town trade tradition traffic tragic train transport transportation trap travel treason treasure treat treatment treaty tree trial tribe trick trip troops trouble truce truck true trust try tube turn under understand unite universe university unless until up urge urgent us use usual vacation vaccine valley value vegetable vehicle version very veto victim victory video village violate violence visa visit voice volcano volunteer vote wages wait walk wall want war warm warn wash waste watch water wave way we weak wealth weapon wear weather Web site week weigh welcome well west wet what wheat wheel when where whether which while white who whole why wide wife wild will willing win wind window winter wire wise wish with withdraw without witness woman wonder wonderful wood word work world worry worse worth wound wreck wreckage write wrong year yellow yes yesterday yet you young zero zoo';var load_word_count = 600;var cur_index = 1;var count_down_period = 60;var timer_started = 0;var result_wrong_count = 0;var result_correct_count = 0;var w_stat_enum = {    s_dafault:  0,    s_curr:     1,    s_wrong:    2,    s_correct:  3};var blink_type = {    correct:    0,    wrong:      1,    warning:    2};$('#typoo-input').keyup(function(event) {    start_timer();    check_update_status();    var key = event.which;    var it = $('#typoo-input').val();    if((key == 13 || key == 32)) {    // 13: enter, 32: space        if(it == ' ') {            $('#typoo-input').val('');            check_update_status();        }        if(it && it != ' ') {            word_complete();        }        display_blink(window.blink_type.correct);    }});function word_complete() {    console.log('word complete');    // count for result    compare_completed();    // clean up input    $('#typoo-input').val('');    // move current index to next one    change_status_on(cur_index, window.w_stat_enum.s_correct);    cur_index ++;    change_status_on(cur_index, window.w_stat_enum.s_curr);}function question_init() {    var qs = window.question_set_str.split(" ");    var n = qs.length;        var next = Math.round(Math.random()*n);    var question = '';    var count = 1;    while(window.load_word_count--) {        //question += ('<span id="qw1">' + qs[next] + '</span> ');        $('#typoo-question').append('<span class="qw qw' + count + '">' + qs[next] + '</span> ');        next = Math.round(Math.random()*n);        count ++;    }    //$('#typoo-question').html(question);}function get_word_on(index) {    var res_word = $('span.qw'+index).text();    return res_word;}function change_status_on(index, w_stat) {    var t = $('span.qw' + index);    if( w_stat==window.w_stat_enum.s_correct ) {        t.addClass('s_correct');    }    else if( w_stat==window.w_stat_enum.s_curr ) {        t.addClass('s_curr');        // scroll here        var ta = $('#typoo-question');        //ta.scrollTop(t.height()-20);        t.removeClass('s_wrong');    }    else if( w_stat==window.w_stat_enum.s_dafault ) {        t.removeClass('s_curr');    }    else if( w_stat==window.w_stat_enum.s_wrong ) {        t.addClass('s_wrong');    }}function check_update_status() {    var qa = get_word_on(cur_index);    var it = $('#typoo-input').val();    var s_qa = qa.substr(0, it.length);    console.log(cur_index + '=' + qa + ' : ' + it + ' : ' + s_qa);    if(s_qa.trim() != it.trim()) {        console.log('wrong');        change_status_on(cur_index, window.w_stat_enum.s_wrong);        display_blink(window.blink_type.wrong);    }    else {        change_status_on(cur_index, window.w_stat_enum.s_curr);        display_blink(window.blink_type.correct);    }}function display_blink(type) {    if(type == window.blink_type.wrong) {        $('#typoo-input-container').removeClass('has-warning').removeClass('has-success').addClass('has-error');    } else if( type == window.blink_type.correct ) {        $('#typoo-input-container').removeClass('has-warning').removeClass('has-error').addClass('has-success');    } else if( type == window.blink_type.warning ) {        $('#typoo-input-container').removeClass('has-success').removeClass('has-error').addClass('has-warning');    }}function compare_completed() {    var qa = get_word_on(cur_index);    var it = $('#typoo-input').val();    if(qa.trim() != it.trim()) {        window.result_wrong_count ++;        console.log('wrong ++');        display_blink(window.blink_type.wrong);    }    else {        window.result_correct_count ++;        console.log('correct ++');        display_blink(window.blink_type.success);    }    console.log("a: " + qa + ", " + "b: " + it + ".");    console.log("compared! -> " + window.result_correct_count + ", " + window.result_wrong_count);}function change_time_display_color(sec) {    if(sec<=20 && sec>10) {        $('#timer').removeClass('btn-success').addClass('btn-warning');    } else if(sec<=10) {        $('#timer').removeClass('btn-warning').addClass('btn-danger');    } else {        $('#timer').removeClass('btn-warning').removeClass('btn-danger').addClass('btn-success');    }}var timer;function start_timer() {    if(timer_started == 1) {        return;    }    var sec = window.count_down_period;    window.timer = setInterval(function() {         sec --;        $('#timer').text(''+sec);        if(sec <= 0) {            console.log("end");            finish_session();        }                change_time_display_color(sec);    }, 1000);    timer_started = 1;}function finish_session() {    clearInterval(window.timer);    var res_content = '';    res_content += window.result_correct_count + ' WPM<br />';    res_content += 'Correct: ' + window.result_correct_count + '<br />';    res_content += 'Wrong: ' + window.result_wrong_count + '<br />';    $('.modal-body').html(res_content);    $('#myModal').modal({show:true})}function variable_init() {    window.result_wrong_count = 0;    window.result_correct_count = 0;    window.load_word_count = 600;}function init_typoo() {    variable_init();    question_init();    change_status_on(cur_index, window.w_stat_enum.s_curr);}$(document).ready(function() {    init_typoo();    $('#ok_btn').click(function () {        location.reload();    });});